We started with a port scan :
```
nmap 10.10.99.64 -p-
```
![Image Alt](https://github.com/kcoainnapo/tryhackme/blob/main/Basic%20Pentesting/images/nmap.png?raw=true)

What is the name of the hidden directory on the web server ? We start by fuzzing the web server : 
```
ffuf -u http://10.10.99.64/FUZZ -w /usr/share/seclists/Discovery/Web-Content/directory-list-2.3-medium.txt -c
```
![Image Alt](https://github.com/kcoainnapo/tryhackme/blob/main/Basic%20Pentesting/images/fuzz.png?raw=true)

By going to http://10.10.99.64/development/ we obtain a directory listing for the /development folder on the web server with 2 files : 
- dev.txt
- j.txt

It gives us information about 2 potential users of the system :
- J
- K

It also hints that we should check the SMB service : 

![Image Alt](https://github.com/kcoainnapo/tryhackme/blob/main/Basic%20Pentesting/images/smb.png?raw=true)

We also learned that the password for the user whose name starts with 'j' can be cracked using /etc/shadow, meaning we can access it via the SSH service.

After downloading the staff.txt file from the SMB server, we learn more about the users on the system : 
- jan
- kay

We then attempt to brute-force the SSH service using Hydra : 
```
hydra -l jan -P /usr/share/seclists/rockyou.txt 10.10.99.64 ssh
```
![Image Alt](https://github.com/kcoainnapo/tryhackme/blob/main/Basic%20Pentesting/images/hydra.png?raw=true)

We can now connect to SSH with the credentials of the user jan :
```
ssh jan@10.10.99.64
```
Once connected, we confirm the other user is Kay : 
```
ls /home
```
![Image Alt](https://github.com/kcoainnapo/tryhackme/blob/main/Basic%20Pentesting/images/kay.png?raw=true)

While exploring the system, we found the SSH key for user Kay :

![Image Alt](https://github.com/kcoainnapo/tryhackme/blob/main/Basic%20Pentesting/images/ls-ssh-kay.png?raw=true)

We can now use cat to view the contents of the key, copy and paste it to our local machine, set the appropriate permissions for the key file, and attempt to connect to user Kay via SSH.

On the target system : 
```
cat id_rsa
```

On our local machine, we use nano id_rsa to paste the contents of the key : 
```
chmod 600 id_rsa
ssh -i kay@10.10.99.64
```
![Image Alt](https://github.com/kcoainnapo/tryhackme/blob/main/Basic%20Pentesting/images/ssh-key-pass.png?raw=true)

We need a password for the key, so we use ssh2john to extract the hash from the SSH key and then crack it using John the Ripper : 
```
ssh2john id_rsa > id_rsa_hash
john id_rsa_hash --wordlist=/usr/share/seclists/rockyou.txt
```
![Image Alt](https://github.com/kcoainnapo/tryhackme/blob/main/Basic%20Pentesting/images/key-cracked.png?raw=true)

We can now connect to user Kay by providing the cracked password, allowing us to obtain the final flag :

![Image Alt](https://github.com/kcoainnapo/tryhackme/blob/main/Basic%20Pentesting/images/final-flag.png?raw=true)


 VOILA ! 
